---
import { markdownify } from "@lib/utils/textConverter";
import { Image } from "@astrojs/image/components";
import HomapageFeature from "@layouts/function-components/HomapageFeature";
import HomapageFeature2 from "@layouts/function-components/simitra/HomapageFeature2";
const { key_features } = Astro.props;
const { title, description, feature_list, feature_list2 } = key_features;
---

<section class="section key-feature relative">
  <Image
    class="absolute left-0 top-0 -z-[1] -translate-y-1/2"
    src="/images/batik_setengah.png"
    height={126}
    width={63}
    alt=""
  />
  <style>
    .animated-element {
      opacity: 0;
      transform: translateY(50px);
      transition: opacity 1s ease, transform 1s ease;
    }

    .animated-element.show {
      opacity: 1;
      transform: translateY(0);
    }
  </style>

  <div class="container">
    <div class="animated-element">
      <div class="row justify-between text-center lg:text-start">
        <div class="lg:col-5">
          <h2 set:html={markdownify(title)} style="color:#7D4F50; " />
        </div>
        <div class="mt-6 lg:col-5 lg:mt-0">
          <p set:html={markdownify(description)} style="color:#7D4F50; " />
        </div>
      </div>
      <HomapageFeature feature_list={feature_list} client:load />
      <!-- <HomapageFeature2 feature_list2={feature_list2} client:load /> -->
    </div>
  </div>

  <script type="">
    window.addEventListener("scroll", revealElement);

    function revealElement() {
      var elements = document.querySelectorAll(".animated-element");
      var windowHeight = window.innerHeight;

      elements.forEach(function (element) {
        var elementPosition = element.getBoundingClientRect().top;

        if (elementPosition < windowHeight) {
          element.classList.add("show");
        } else {
          element.classList.remove("show");
        }
      });
    }
  </script>
</section>
